var TcpServer = require('./lib/TcpServer');

// Create new TCP server on 3002 port and enable logging
var server = new TcpServer(3002, true);

// Register device's first connection
server.on('register', function (key, device) {

    // Register device's open event
    device.on('open', function () {
        console.log(device.ident());
        var ident = device.ident();
    });

    // Register device's update event
    device.on('update', function (data) {
        // Do something
    });

    // Register device's close event
    device.on('close', function () {
        // Do something
    });
});

setTimeout(function () {
    server.getDevice();
});